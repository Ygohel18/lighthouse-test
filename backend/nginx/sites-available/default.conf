server {
    listen 80;
    server_name localhost; # Or your domain

    # ... potentially other locations ...

    # Your existing location block for proxying API requests
    # If running Docker, this proxies to localhost:8080 (Dockerized Nginx)
    # If running Host, this proxies to localhost:3000 (Node.js API)
    location /lighthouse/ {
        # Rewrite the URL to remove /lighthouse/ before sending to the proxy
        rewrite ^/lighthouse/(.*)$ /$1 break;

        # Adjust proxy_pass based on whether you're running Docker or Host
        # For Docker:
        proxy_pass http://localhost:8080;
        # For Host:
        # proxy_pass http://localhost:3000;


        # Standard proxy headers
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # ... other locations ...
}